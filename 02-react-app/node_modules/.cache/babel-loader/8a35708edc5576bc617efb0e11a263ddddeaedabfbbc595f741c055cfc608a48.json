{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nexport const useShoppingCart = () => {\n  _s();\n  const [shoppingCart, setShoppingCart] = useState({});\n  const onProductCountChange = ({\n    count,\n    product\n  }) => {\n    setShoppingCart(oldShoppingCart => {\n      const productInCart = oldShoppingCart[product.id] || {\n        ...product,\n        count: 0\n      };\n      if (Math.max(productInCart.count + count, 0) > 0) {\n        productInCart.count += count;\n        return {\n          ...oldShoppingCart,\n          [product.id]: productInCart\n        };\n      }\n      const {\n        [product.id]: _,\n        ...newShoppingCart\n      } = oldShoppingCart;\n      return newShoppingCart;\n    });\n  };\n  return {\n    onProductCountChange,\n    shoppingCart\n  };\n};\n_s(useShoppingCart, \"chJYF4FA9I1WhB1XNuwp5eN1hV4=\");","map":{"version":3,"names":["useState","useShoppingCart","_s","shoppingCart","setShoppingCart","onProductCountChange","count","product","oldShoppingCart","productInCart","id","Math","max","_","newShoppingCart"],"sources":["/Users/matias/Desktop/Courses/fh-react-pro/02-react-app/src/02-component-patterns/hooks/useShoppingCart.ts"],"sourcesContent":["import { useState } from \"react\";\nimport { Product, ProductInCart } from \"../interfaces/interfaces\";\n\nexport const useShoppingCart = () => {\n  const [shoppingCart, setShoppingCart] = useState<{\n    [key: string]: ProductInCart;\n  }>({});\n\n  const onProductCountChange = ({\n    count,\n    product,\n  }: {\n    count: number;\n    product: Product;\n  }) => {\n    setShoppingCart((oldShoppingCart) => {\n      const productInCart: ProductInCart = oldShoppingCart[product.id] || {\n        ...product,\n        count: 0,\n      };\n\n      if (Math.max(productInCart.count + count, 0) > 0) {\n        productInCart.count += count;\n        return {\n          ...oldShoppingCart,\n          [product.id]: productInCart,\n        };\n      }\n\n      const { [product.id]: _, ...newShoppingCart } = oldShoppingCart;\n      return newShoppingCart;\n    });\n  };\n\n  return { onProductCountChange, shoppingCart };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAGhC,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGJ,QAAQ,CAE7C,CAAC,CAAC,CAAC;EAEN,MAAMK,oBAAoB,GAAGA,CAAC;IAC5BC,KAAK;IACLC;EAIF,CAAC,KAAK;IACJH,eAAe,CAAEI,eAAe,IAAK;MACnC,MAAMC,aAA4B,GAAGD,eAAe,CAACD,OAAO,CAACG,EAAE,CAAC,IAAI;QAClE,GAAGH,OAAO;QACVD,KAAK,EAAE;MACT,CAAC;MAED,IAAIK,IAAI,CAACC,GAAG,CAACH,aAAa,CAACH,KAAK,GAAGA,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE;QAChDG,aAAa,CAACH,KAAK,IAAIA,KAAK;QAC5B,OAAO;UACL,GAAGE,eAAe;UAClB,CAACD,OAAO,CAACG,EAAE,GAAGD;QAChB,CAAC;MACH;MAEA,MAAM;QAAE,CAACF,OAAO,CAACG,EAAE,GAAGG,CAAC;QAAE,GAAGC;MAAgB,CAAC,GAAGN,eAAe;MAC/D,OAAOM,eAAe;IACxB,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IAAET,oBAAoB;IAAEF;EAAa,CAAC;AAC/C,CAAC;AAACD,EAAA,CAhCWD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}